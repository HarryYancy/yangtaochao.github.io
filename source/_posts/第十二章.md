# 全局变量

- <img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tmae3nj0j30pu0kadii.jpg" alt="image.png" style="zoom: 33%;" />										

  - ## ***\__func__***代表当前函数的名称

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tmettn1sj30r20iugoq.jpg" alt="image.png" style="zoom: 33%;" />

## 静态本地变量

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tml7a5i8j30tr0lldka.jpg" alt="image.png" style="zoom: 33%;" />

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tmoqq42ej30ux0b4ju3.jpg" alt="image.png" style="zoom: 33%;" />

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tmsl26dzj30tj0jeadp.jpg" alt="image.png" style="zoom: 33%;" />

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tmter64wj30t90i7tbh.jpg" alt="image.png" style="zoom: 33%;" />

# 12.2 编译预处理和宏

## 编译预处理

- #开头的是编译预处理指令
- #define 用来定义宏
*它们不是C语言的成分，但是C语言程序离不开它*

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tn5emyw1j30ss0k8jv6.jpg" alt="image.png" style="zoom:33%;" />

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tn61grn8j30rd0ju416.jpg" alt="image.png" style="zoom:33%;" />

### 预先定义的宏

- \__LINE__代表源代码文件的行号
- \__FILE__ 代表源代码文件的文件名（包含路径）
- \__DATE__ 代表编译时日期
- \__TIME__代表编译时时间
- \__STDC__代表

## 带参数的宏：*仅仅只是文本的替换！！！*

```c
#define cude(x) ((x)*(x)*(x))
```

cube(5)会被替换为((5)*(5)\*(5))

cube(i)会被替换为((i)*(i)\*(i))

### 定义带参数宏的原则

- 一切都要括号
  - 整个值要括号
  - 参数出现的每个地方都要括号

- 可以带多个参数
- 也可以嵌套宏
- 定义参数宏时不要带分号

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tnjytrywj30oi0jfq5x.jpg" alt="image.png" style="zoom:33%;" />

# 12.3 大程序结构

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tnxy1jytj30tk0lfjvj.jpg" alt="image.png" style="zoom:33%;" />

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tny83vkbj30q906zaav.jpg" alt="image.png" style="zoom:33%;" />

## 头文件

- 把函数原型放到一个头文件中，在需要调用这个函数的源代码文件中#include这个头文件，
  就能让编译器在编译的时候知道函数的原型

## <img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5to70fhzoj30sw0kzjwm.jpg" alt="image.png" style="zoom:33%;" />

- #include 是预处理指令，预处理时会进行文本替换

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5toa3qhx2j30t50lidkq.jpg" alt="image.png" style="zoom:33%;" />

### 头文件使用注意事项：

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tobqoc38j30t6070jtt.jpg" alt="image.png" style="zoom:33%;" />

#### 不对外公开的函数

- 在函数前面加上static就使得它只能在所在的编译单元中被使用搞的函数
- 在全局变量前面加上static就使得它成为只能在所在的编译单元中被使用的全局变量

## 声明

```c
extern 类型名 名称；这是变量的声明，而非函数的定义
```

- 声明不产生代码
  - 函数原型
  - 变量声明
  - 结构声明
  - 宏声明
  - 枚举声明
  - 类型声明
  - inline函数
- 定义是产生代码的东西

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5ton42lx7j30sy0j2ada.jpg" alt="image.png" style="zoom:33%;" />

<img src="https://tva1.sinaimg.cn/large/008tG9v6ly1h5tou5sfi6j30xb0hugvk.jpg" alt="image.png" style="zoom:33%;" />

